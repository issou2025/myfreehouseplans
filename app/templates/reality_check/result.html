{% extends 'base.html' %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='reality_check/reality_check.css') }}">
{% endblock %}

{% block content %}
<section class="rc-hero" style="padding-bottom: 0;">
  <div class="rc-shell">
    <div class="rc-eyebrow">
      <i class="fa-solid fa-compass" aria-hidden="true"></i>
      <span>Decision zone • Realistic guidance • Free PDF report</span>
    </div>
    <h1 class="rc-title" style="font-size: clamp(28px, 3.5vw, 44px);">Your reality check result</h1>
    <p class="rc-lead">This is not a quote. It’s a decision aid to prevent unfinished projects.</p>
  </div>
</section>

<section class="rc-section">
  <div class="rc-shell">
    {% set zone = output.result.zone %}
    <div class="rc-result">
      <div class="rc-zone rc-zone--{{ zone }}">
        <div class="rc-zone__banner" aria-label="Risk zone">
          <span>
            {% if zone == 'danger' %}
              <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>
              <span>RED ZONE — High risk</span>
            {% elif zone == 'tension' %}
              <i class="fa-solid fa-circle-exclamation" aria-hidden="true"></i>
              <span>ORANGE ZONE — Fragile</span>
            {% else %}
              <i class="fa-solid fa-circle-check" aria-hidden="true"></i>
              <span>GREEN ZONE — Stable</span>
            {% endif %}
          </span>
          <span style="opacity:.92; font-weight:700;">
            {{ surface_m2 }} m² • {{ output.result.elevation.levels_label }}
          </span>
        </div>
        <div class="rc-zone__body">
          <h2 style="margin-top:0;">{{ output.human.headline }}</h2>
          <p>{{ output.human.summary }}</p>

          <div class="rc-badge-row" aria-label="Summary badges">
            <span class="rc-badge"><i class="fa-solid fa-location-dot" aria-hidden="true"></i> Country: {{ output.result.country.country_name }}</span>
            <span class="rc-badge"><i class="fa-solid fa-clock" aria-hidden="true"></i> Generated: {{ output.result.created_utc }}</span>
          </div>
        </div>
      </div>

      <div class="rc-panel">
        <h2 class="rc-panel__title">Practical advice</h2>
        <ul class="rc-panel__list" style="margin-top: 12px;">
          {% for item in output.human.advice %}
            <li><i class="fa-solid fa-check" aria-hidden="true"></i> <span>{{ item }}</span></li>
          {% endfor %}
        </ul>
      </div>

      <div class="rc-panel">
        <h2 class="rc-panel__title">Short education (no jargon)</h2>
        <p class="rc-muted" style="margin-top: 10px;">{{ output.human.education }}</p>
      </div>

      <div class="rc-actions">
        <a class="btn btn-primary" href="{{ url_for('reality_check.report_pdf', s=surface_m2, l=levels_choice) }}">
          <i class="fa-solid fa-file-pdf" aria-hidden="true"></i>
          Download your reality report (PDF)
        </a>
        <a class="btn btn-secondary" href="{{ url_for('reality_check.start') }}">
          Try another surface
        </a>
      </div>

      <div class="rc-links">
        <a href="{{ url_for('reality_check.how_it_works') }}">How it works</a>
        <a href="{{ url_for('reality_check.limitations') }}">Limitations</a>
      </div>

      <div class="rc-note" role="note">
        <strong>Reminder:</strong> No tool can guarantee success. This report helps you make safer choices before you start.
      </div>
    </div>
  </div>
</section>
{% endblock %}
